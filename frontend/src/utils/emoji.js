const emojiCache = new Map();

const loadEmoji = (name, path) => {
    if (!emojiCache.has(name)) {
        emojiCache.set(name, import(`../assets/wechatemoji/lossy-q50/${path}.webp`).then(m => m.default || ''));
    }
};

// 预加载表情，只执行一次
loadEmoji('微笑', '001_微笑');
loadEmoji('撇嘴', '002_撇嘴');
loadEmoji('色', '003_色');
loadEmoji('发呆', '004_发呆');
loadEmoji('得意', '005_得意');
loadEmoji('流泪', '006_流泪');
loadEmoji('害羞', '007_害羞');
loadEmoji('闭嘴', '008_闭嘴');
loadEmoji('睡', '009_睡');
loadEmoji('大哭', '010_大哭');
loadEmoji('尴尬', '011_尴尬');
loadEmoji('发怒', '012_发怒');
loadEmoji('调皮', '013_调皮');
loadEmoji('呲牙', '014_呲牙');
loadEmoji('惊讶', '015_惊讶');
loadEmoji('难过', '016_难过');
loadEmoji('囧', '017_囧');
loadEmoji('抓狂', '018_抓狂');
loadEmoji('吐', '019_吐');
loadEmoji('偷笑', '020_偷笑');
loadEmoji('愉快', '021_愉快');
loadEmoji('白眼', '022_白眼');
loadEmoji('傲慢', '023_傲慢');
loadEmoji('困', '024_困');
loadEmoji('惊恐', '025_惊恐');
loadEmoji('憨笑', '026_憨笑');
loadEmoji('悠闲', '027_悠闲');
loadEmoji('咒骂', '028_咒骂');
loadEmoji('疑问', '029_疑问');
loadEmoji('嘘', '030_嘘');
loadEmoji('晕', '031_晕');
loadEmoji('衰', '032_衰');
loadEmoji('骷髅', '033_骷髅');
loadEmoji('敲打', '034_敲打');
loadEmoji('再见', '035_再见');
loadEmoji('擦汗', '036_擦汗');
loadEmoji('抠鼻', '037_抠鼻');
loadEmoji('鼓掌', '038_鼓掌');
loadEmoji('坏笑', '039_坏笑');
loadEmoji('右哼哼', '040_右哼哼');
loadEmoji('鄙视', '041_鄙视');
loadEmoji('委屈', '042_委屈');
loadEmoji('快哭了', '043_快哭了');
loadEmoji('阴险', '044_阴险');
loadEmoji('亲亲', '045_亲亲');
loadEmoji('可怜', '046_可怜');
loadEmoji('笑脸', '047_笑脸');
loadEmoji('生病', '048_生病');
loadEmoji('脸红', '049_脸红');
loadEmoji('破涕为笑', '050_破涕为笑');
loadEmoji('恐惧', '051_恐惧');
loadEmoji('失望', '052_失望');
loadEmoji('无语', '053_无语');
loadEmoji('嘿哈', '054_嘿哈');
loadEmoji('捂脸', '055_捂脸');
loadEmoji('奸笑', '056_奸笑');
loadEmoji('机智', '057_机智');
loadEmoji('皱眉', '058_皱眉');
loadEmoji('耶', '059_耶');
loadEmoji('吃瓜', '060_吃瓜');
loadEmoji('加油', '061_加油');
loadEmoji('汗', '062_汗');
loadEmoji('天啊', '063_天啊');
loadEmoji('Emm', '064_Emm');
loadEmoji('社会社会', '065_社会社会');
loadEmoji('旺柴', '066_旺柴');
loadEmoji('好的', '067_好的');
loadEmoji('打脸', '068_打脸');
loadEmoji('哇', '069_哇');
loadEmoji('翻白眼', '070_翻白眼');
loadEmoji('666', '071_666');
loadEmoji('让我看看', '072_让我看看');
loadEmoji('叹气', '073_叹气');
loadEmoji('苦涩', '074_苦涩');
loadEmoji('裂开', '075_裂开');
loadEmoji('嘴唇', '076_嘴唇');
loadEmoji('爱心', '077_爱心');
loadEmoji('心碎', '078_心碎');
loadEmoji('拥抱', '079_拥抱');
loadEmoji('强', '080_强');
loadEmoji('弱', '081_弱');
loadEmoji('握手', '082_握手');
loadEmoji('胜利', '083_胜利');
loadEmoji('抱拳', '084_抱拳');
loadEmoji('勾引', '085_勾引');
loadEmoji('拳头', '086_拳头');
loadEmoji('OK', '087_OK');
loadEmoji('合十', '088_合十');
loadEmoji('啤酒', '089_啤酒');
loadEmoji('咖啡', '090_咖啡');
loadEmoji('蛋糕', '091_蛋糕');
loadEmoji('玫瑰', '092_玫瑰');
loadEmoji('凋谢', '093_凋谢');
loadEmoji('菜刀', '094_菜刀');
loadEmoji('炸弹', '095_炸弹');
loadEmoji('便便', '096_便便');
loadEmoji('月亮', '097_月亮');
loadEmoji('太阳', '098_太阳');
loadEmoji('庆祝', '099_庆祝');
loadEmoji('礼物', '100_礼物');
loadEmoji('红包', '101_红包');
loadEmoji('發', '102_發');
loadEmoji('福', '103_福');
loadEmoji('烟花', '104_烟花');
loadEmoji('爆竹', '105_爆竹');
loadEmoji('猪头', '106_猪头');
loadEmoji('跳跳', '107_跳跳');
loadEmoji('发抖', '108_发抖');
loadEmoji('转圈', '109_转圈');

export const getEmoji = async (title) => {
    return emojiCache.get(title) || '';
};